<div class="prestamo-list container-fluid mt-4">
  <div class="row">
    <div class="col-12">
      <app-prestamo-filters (filter)="onFilter($event)" (clear)="onClear()"></app-prestamo-filters>
      <div class="table-responsive w-100">
        <table class="table table-hover w-100">
          <thead class="thead-dark">
            <tr>
              <th>ID</th>
              <th>Game</th>
              <th>Client</th>
              <th>Creation Date</th>
              <th>Return Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let prestamo of prestamos">
              <td>{{ prestamo.id }}</td>
              <td>{{ prestamo.nombreJuego }}</td>
              <td>{{ prestamo.nombreCliente }}</td>
              <td>{{ prestamo.fechaCreacion }}</td>
              <td>{{ prestamo.fechaDevolucion }}</td>
              <td>
                <button class="btn btn-danger" (click)="openDeleteModal(prestamo)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <app-prestamo-pagination [totalPages]="totalPages" [currentPage]="currentPage" (pageChange)="onPageChange($event)"></app-prestamo-pagination>
      <button class="btn btn-success mt-4" (click)="openCreateModal()">Create New Prestamo</button>
    </div>
  </div>

  <app-prestamo-create
    *ngIf="showCreateModal"
    (create)="createPrestamo($event)"
    (close)="closeCreateModal()">
  </app-prestamo-create>

  <app-prestamo-delete
    *ngIf="showDeleteModal"
    [prestamo]="prestamoToDelete"
    (delete)="deletePrestamo($event)"
    (close)="closeDeleteModal()">
  </app-prestamo-delete>
</div>